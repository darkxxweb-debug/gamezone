<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DARKX GAMES ZONE | ONLINE STORAGE</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
body {background:linear-gradient(135deg,#0a0a0a,#1a1a2e);color:white;min-height:100vh;padding:20px;}
.container {max-width:1200px;margin:0 auto;}
.header {background:linear-gradient(135deg,#ff0040,#9d00ff);padding:25px;border-radius:15px;text-align:center;margin-bottom:30px;box-shadow:0 10px 30px rgba(255,0,64,0.3);}
.logo {font-size:2.8rem;font-weight:900;margin-bottom:10px;text-shadow:0 0 15px #ff0040;}
.logo span {color:#00ccff;}
.subtitle {color:#ddd;font-size:1.1rem;}
.admin-btn {background:#00ccff;color:#000;border:none;padding:12px 30px;border-radius:10px;font-weight:bold;cursor:pointer;margin-top:15px;font-size:1.1rem;transition:all 0.3s;}
.admin-btn:hover {background:#ff0040;color:white;transform:translateY(-3px);}
.admin-panel {background:rgba(255,255,255,0.05);padding:25px;border-radius:15px;margin-bottom:30px;border:2px solid #00ccff;display:none;}
.admin-panel.active {display:block;}
.panel-title {color:#00ccff;text-align:center;margin-bottom:25px;font-size:1.8rem;}
.form-group {margin-bottom:15px;}
label {display:block;margin-bottom:8px;color:#00ccff;font-weight:600;}
input,textarea,select {width:100%;padding:12px;background:rgba(255,255,255,0.1);border:1px solid #333;border-radius:8px;color:white;font-size:1rem;}
textarea {min-height:100px;resize:vertical;}
.btn {background:#ff0040;color:white;border:none;padding:12px 25px;border-radius:8px;cursor:pointer;font-weight:bold;margin-right:10px;margin-top:10px;}
.btn-success {background:#00cc66;}
.btn-primary {background:#00ccff;color:black;}
.games-grid {display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:30px;}
.game-card {background:rgba(255,255,255,0.05);border-radius:15px;padding:20px;border:1px solid #333;transition:all 0.3s;position:relative;}
.game-card:hover {border-color:#00ccff;transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,204,255,0.2);}
.game-title {color:#ff0040;font-size:1.4rem;margin-bottom:10px;}
.game-description {color:#ccc;margin-bottom:15px;font-size:0.9rem;}
.game-meta {display:flex;justify-content:space-between;color:#888;font-size:0.9rem;margin-bottom:15px;}
.download-btn {background:linear-gradient(135deg,#ff0040,#cc0033);color:white;border:none;padding:12px;border-radius:8px;width:100%;cursor:pointer;font-weight:bold;transition:all 0.3s;}
.download-btn:hover {background:linear-gradient(135deg,#ff2266,#ff0040);}
.status {background:rgba(0,255,136,0.1);padding:10px;border-radius:8px;text-align:center;margin:15px 0;border:1px solid #00ff88;}
.login-modal {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);display:flex;justify-content:center;align-items:center;z-index:1000;display:none;}
.login-box {background:#1a1a2e;padding:40px;border-radius:15px;text-align:center;border:2px solid #00ccff;max-width:400px;width:90%;}
@media (max-width:768px){.games-grid{grid-template-columns:1fr;}.logo{font-size:2rem;}}
</style>
</head>
<body>
<div class="login-modal" id="loginModal">
    <div class="login-box">
        <h2 style="color:#00ccff;margin-bottom:20px;">ADMIN LOGIN</h2>
        <input type="password" id="passwordInput" placeholder="Enter Password">
        <button class="btn btn-primary" onclick="checkPassword()" style="width:100%;">LOGIN</button>
        <p id="loginError" style="color:#ff0040;margin-top:10px;display:none;">Wrong Password!</p>
    </div>
</div>

<div class="container">
    <div class="header">
        <div class="logo">DARKX <span>GAMES ZONE</span></div>
        <div class="subtitle">ONLINE GAME STORAGE - GAMES SAVED IN CLOUD</div>
        <button class="admin-btn" onclick="showLogin()">
            <i class="fas fa-user-shield"></i> ADMIN PANEL
        </button>
    </div>

    <div class="status" id="status">
        <i class="fas fa-sync fa-spin"></i> Loading games from cloud...
    </div>

    <!-- ADMIN PANEL -->
    <div class="admin-panel" id="adminPanel">
        <h2 class="panel-title">ADD NEW GAME</h2>
        <div class="form-group"><label>Game Name:</label><input type="text" id="gameName" placeholder="e.g., GTA VI"></div>
        <div class="form-group"><label>Download Link:</label><input type="text" id="gameLink" placeholder="https://example.com/game.zip"></div>
        <div class="form-group"><label>Description:</label><textarea id="gameDesc" placeholder="Game description..."></textarea></div>
        <div class="form-group"><label>Size:</label><input type="text" id="gameSize" placeholder="e.g., 2.5 GB"></div>
        <div class="form-group"><label>Category:</label>
            <select id="gameCategory">
                <option value="action">Action</option>
                <option value="adventure">Adventure</option>
                <option value="racing">Racing</option>
                <option value="sports">Sports</option>
            </select>
        </div>
        <button class="btn btn-success" onclick="addGame()"><i class="fas fa-plus"></i> ADD GAME</button>
        <button class="btn" onclick="hideAdmin()"><i class="fas fa-times"></i> CLOSE PANEL</button>
    </div>

    <!-- GAMES LIST -->
    <h2 style="color:#00ccff;margin:30px 0 20px 0;">AVAILABLE GAMES</h2>
    <div class="games-grid" id="gamesList">
        <div style="text-align:center;padding:40px;color:#888;">
            <i class="fas fa-spinner fa-spin fa-2x"></i>
            <p style="margin-top:15px;">Loading games from cloud...</p>
        </div>
    </div>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyA7xpCvPWlVF4Cjyr-T3maagrKUF5zebcI",
  authDomain: "gamezone-26e95.firebaseapp.com",
  databaseURL: "https://gamezone-26e95-default-rtdb.firebaseio.com",
  projectId: "gamezone-26e95",
  storageBucket: "gamezone-26e95.appspot.com",
  messagingSenderId: "823410616788",
  appId: "1:823410616788:web:303655cfc06fc9a4fd4e41"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let isAdmin = false;
const adminPassword = 'DARKX2025';

// =========================
// ADMIN LOGIN
// =========================
function showLogin() { document.getElementById('loginModal').style.display='flex'; }
function checkPassword() {
    const pw = document.getElementById('passwordInput').value;
    if(pw === adminPassword){
        isAdmin = true;
        document.getElementById('loginModal').style.display='none';
        document.getElementById('adminPanel').classList.add('active');
        document.getElementById('passwordInput').value='';
        document.getElementById('loginError').style.display='none';
    }else{
        document.getElementById('loginError').style.display='block';
    }
}
function hideAdmin() { document.getElementById('adminPanel').classList.remove('active'); }

// =========================
// LOAD GAMES
// =========================
function loadGames(){
    document.getElementById('status').innerHTML='<i class="fas fa-sync fa-spin"></i> Loading games from cloud...';
    db.ref('games').once('value', snapshot=>{
        const data = snapshot.val();
        displayGames(data||{});
        document.getElementById('status').innerHTML='<i class="fas fa-check-circle"></i> Games loaded!';
    });
}

// =========================
// DISPLAY GAMES
// =========================
function displayGames(data){
    const gamesList = document.getElementById('gamesList');
    gamesList.innerHTML='';
    const keys = Object.keys(data);
    if(keys.length===0){
        gamesList.innerHTML='<div style="text-align:center;padding:50px;color:#888;"><i class="fas fa-gamepad fa-3x"></i><h3 style="margin:20px 0 10px 0;color:#ff0040;">No Games Yet</h3><p>Admin needs to add games</p></div>';
        return;
    }
    keys.reverse().forEach(k=>{
        const g = data[k];
        const card = document.createElement('div');
        card.className='game-card';
        card.innerHTML=`<h3 class="game-title">${g.name}</h3>
            <p class="game-description">${g.description}</p>
            <div class="game-meta"><span>${g.category.toUpperCase()}</span><span>${g.size}</span></div>
            <button class="download-btn" onclick="window.open('${g.link}','_blank')"><i class="fas fa-download"></i> DOWNLOAD NOW</button>`;
        if(isAdmin){
            const delBtn = document.createElement('button');
            delBtn.style='background:none;border:none;color:#ff0040;cursor:pointer;font-size:0.8rem;position:absolute;top:10px;right:10px;';
            delBtn.innerHTML='<i class="fas fa-trash"></i> Delete';
            delBtn.onclick=()=>deleteGame(k);
            card.appendChild(delBtn);
        }
        gamesList.appendChild(card);
    });
}

// =========================
// ADD GAME
// =========================
function addGame(){
    if(!isAdmin){ alert('Only admin can add games'); return; }
    const name = document.getElementById('gameName').value.trim();
    const link = document.getElementById('gameLink').value.trim();
    const desc = document.getElementById('gameDesc').value.trim();
    const size = document.getElementById('gameSize').value.trim();
    const category = document.getElementById('gameCategory').value;
    if(!name||!link||!desc||!size){ alert('Please fill all fields'); return; }
    const newKey = db.ref().child('games').push().key;
    db.ref('games/'+newKey).set({name,link,description:desc,size,category,dateAdded:new Date().toLocaleDateString()})
      .then(()=>{ alert('Game added successfully'); loadGames();
        document.getElementById('gameName').value=''; document.getElementById('gameLink').value='';
        document.getElementById('gameDesc').value=''; document.getElementById('gameSize').value='';
      });
}

// =========================
// DELETE GAME
// =========================
function deleteGame(key){
    if(confirm('Are you sure to delete this game?')){
        db.ref('games/'+key).remove().then(()=>loadGames());
    }
}

// =========================
// AUTO REFRESH
// =========================
setInterval(loadGames,30000);
window.onload=loadGames;
</script>
</body>
</html>
